(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[386],{742:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(5155),n=r(3126),a=r(1392),o=r(3570),l=r(2115),i=r(6671);let c=e=>{let{solAmount:t,fillAmount:r,onBAGS:c,isDonating:d,inputBackground:u="bg-white"}=e,{publicKey:m}=(0,a.v)(),[p,f]=(0,l.useState)(null),[g,x]=(0,l.useState)(""),h=new o.Ng("https://mainnet.helius-rpc.com/?api-key=d94f96c1-6be8-42be-90c4-311dec83c9f7"),b=(0,l.useCallback)(()=>{if(!g){i.o.error("Please enter Dream amount!");return}c(g),x("")},[g]);return(0,l.useEffect)(()=>{(async()=>{m&&f(await h.getBalance(m)/o.Sr)})()},[m]),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("p",{className:"text-[16px] text-[#5D3014] font-bold text-center mb-4",children:"MAKE A Dream"}),(0,s.jsx)("hr",{className:"w-full h-0 border-[0.5px] border-[#5D3014] opacity-100 mb-6"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:"/assets/solana-brown-icon.svg",alt:"solana",className:"w-3 h-3"}),(0,s.jsxs)("span",{className:"text-[12px] text-[#5D3014]",children:[t," SOL"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-[12px] text-[#8F95B2]",children:"BALANCE"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("img",{src:"/assets/solana-black-icon.svg",alt:"solana",className:"w-3 h-3"}),(0,s.jsxs)("span",{className:"text-[12px] text-[#000]",children:[(0,n.cp)(p||0)||"0.00"," SOL"]})]})]})]}),(0,s.jsxs)("div",{className:"relative w-full h-[24px] bg-[#FFD44F] rounded-[200px] overflow-hidden border border-[#FF9933] mt-2",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full transition-all duration-300 rounded-[200px]",style:{width:"".concat(Math.min(100,Number(r)/Number(t)*100),"%"),background:"linear-gradient(to right, #009A49, #29F188)"}}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-end",children:(0,s.jsx)("div",{className:"relative z-10 mr-[12px] text-[12px] font-medium",children:(0,s.jsxs)("span",{className:"text-[#000000]",style:{color:Number(r)/Number(t)*100>=95?"#FFFFFF":"#000000"},children:[(0,n.cp)(r)," / ",t," SOL"]})})})]}),(0,s.jsx)("div",{className:"w-[60%] bg-gradient-to-r from-[#000000] to-[#ffffff] h-[1px] mt-[12px] mb-[16px]"}),(0,s.jsx)("div",{className:"w-full rounded-[8px] ".concat(u),children:(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("img",{src:"/assets/solana-black-icon.svg",alt:"solana",className:"w-6 h-6"}),(0,s.jsx)("input",{placeholder:"SOL amount",value:g,onClick:e=>{e.stopPropagation(),e.preventDefault()},onChange:e=>{x((0,n.Bt)(e.target.value))},step:"0.01",min:"0",max:"100",type:"number",className:"w-full outline-none border-none text-[16px] pr-2 remove-arrow placeholder:text-[#8F95B2] text-black bg-inherit"})]})}),(0,s.jsx)("div",{className:"w-[60%] bg-gradient-to-r from-[#000000] to-[#ffffff] h-[1px] mt-[12px] mb-[16px]"}),(0,s.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),b()},disabled:d,className:"h-[48px] w-full flex items-center justify-center cursor-pointer gap-2 border-[#000000] bg-gradient-to-r from-[#000000] to-[#454545] text-[#FFD44F] text-[16px] rounded-[8px] outline-none border-none disabled:opacity-[0.6] disabled:cursor-not-allowed",children:d?(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-[#FFD44F] border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-[24px]",children:"\uD83E\uDEF3"}),(0,s.jsx)("span",{className:"font-bold text-[#FFD44F]",children:"DREAM"})]})})]})}},1175:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155),n=r(2115);let a=e=>{let{isOpen:t,onClose:r,children:a,preventClose:o=!1,style:l}=e;return((0,n.useEffect)(()=>{let e=e=>{"Escape"!==e.key||o||r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r,o]),t)?(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",style:{backgroundColor:"rgba(93, 48, 20, 0.88)"},onClick:o?void 0:e=>{e.stopPropagation(),e.preventDefault(),r()},children:(0,s.jsx)("div",{className:"bg-[#FFD44F] w-full max-w-[540px] p-4 rounded-[8px] border border-[#FF9933] max-h-[80vh] overflow-y-auto",style:{...l},onClick:e=>{e.stopPropagation(),e.preventDefault()},children:a})}):null}},1373:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(5155),n=r(3126),a=r(1392),o=r(2115),l=r(6671),i=r(1175),c=r(742);let d=e=>{let{handleBAGS:t,donatingMessageId:r,msg:d,hideSolAmount:u}=e,{publicKey:m}=(0,a.v)(),p=(0,o.useRef)(null),f=(0,o.useRef)(null),[g,x]=(0,o.useState)({isOpen:!1,recipientAddress:"",solAmount:"",messageId:"",fillAmount:""}),h=(e,t,r,s)=>{if(!m){l.o.info("Connect wallet to DREAM!");return}if(!(0,n.Ig)(e)){l.o.error("Invalid recipient wallet address");return}x({isOpen:!0,recipientAddress:e,solAmount:t,messageId:r,fillAmount:s})},b=async e=>{await t(g.recipientAddress,e,g.messageId),x(e=>({...e,isOpen:!1}))};return(0,o.useEffect)(()=>{let e=()=>{if(!p.current||!f.current)return;let e=p.current,t=f.current.offsetWidth-40,r=14;for(e.style.fontSize="".concat(14,"px");e.offsetWidth>t&&r>8;)r--,e.style.fontSize="".concat(r,"px")};e();let t=new ResizeObserver(e);return f.current&&t.observe(f.current),()=>{t.disconnect()}},[d.fillAmount,d.solAmount]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"w-full flex items-stretch gap-2 h-full",children:[u?null:(0,s.jsxs)("div",{ref:f,className:"w-[80px] flex-shrink-0 h-auto flex items-center justify-center gap-1 px-1 rounded-[8px] border bg-[#FFD44F]",style:{borderColor:"rgba(93, 48, 20, 40%)"},children:[(0,s.jsx)("img",{src:"/assets/solana-brown-icon.svg",alt:"solana",className:"w-4 h-4"}),(0,s.jsxs)("span",{ref:p,className:"font-bold text-[#5D3014] whitespace-nowrap",style:{fontSize:"14px"},children:[(0,n.cp)(d.fillAmount)," / ",(0,n.cp)(d.solAmount)]})]}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),h(d.walletAddress,d.solAmount,d._id,d.fillAmount)},disabled:r===d._id,className:"grow w-full flex items-center justify-center border-[#000000] bg-gradient-to-r from-[#000000] to-[#454545] cursor-pointer rounded-[8px] disabled:opacity-70 border lg:h-[32px]",style:{filter:"drop-shadow(0px 4px 8px rgba(93, 48, 20, 0.4))"},children:r===d._id?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-[#FFD44F] border-t-transparent rounded-full animate-spin"}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"lg:basis-1/2 basis-2/3 flex items-center justify-center gap-2",children:[(0,s.jsx)("span",{className:"text-[16px]",children:"\uD83E\uDEF3"}),(0,s.jsx)("span",{className:"font-bold text-[#FFD44F] text-[14px]",children:"DREAM"})]})})})]}),(0,s.jsx)(i.A,{isOpen:g.isOpen,onClose:()=>x(e=>({...e,isOpen:!1})),preventClose:!!r,style:{background:"#ffffff",maxWidth:"360px"},children:(0,s.jsx)(c.A,{solAmount:g.solAmount,fillAmount:g.fillAmount,onBAGS:b,isDonating:!!r})})]})}},3126:(e,t,r)=>{"use strict";r.d(t,{AE:()=>N,At:()=>v,Br:()=>x,Bt:()=>d,Bu:()=>y,Ig:()=>m,MG:()=>u,N5:()=>b,Xz:()=>k,aW:()=>i,bH:()=>g,cp:()=>c,in:()=>h,r1:()=>w,sQ:()=>C,tN:()=>j,up:()=>p});var s=r(3570),n=r(8794),a=r(8780),o=r(6694),l=r(6671);let i=e=>{try{let t=(0,n.H)(e);if(isNaN(t.getTime()))throw Error("Invalid date");let r=new Date(t.getTime()-6e4*t.getTimezoneOffset());if((0,a.c)(r))return(0,o.GP)(r,"h:mma").toLowerCase();return(0,o.GP)(r,"do MMM")}catch(t){return console.error("Error formatting date:",t),e}},c=e=>{let t=Number(e);return t%1==0?t.toString():Number(t.toFixed(4)).toString()},d=e=>{let t=e.replace(/[^\d.]/g,"");if(!t)return"";let r=parseFloat(t);if(isNaN(r))return"";if(r>100)return"100";if(e.includes(".")){let[t,s]=e.split(".");if(s&&s.length>2)return Number(r.toFixed(2)).toString()}return e},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"modal";window.Jupiter?window.Jupiter.init({displayMode:e,endpoint:"https://mainnet.helius-rpc.com/?api-key=d94f96c1-6be8-42be-90c4-311dec83c9f7",..."integrated"===e?{integratedTargetId:"integrated-terminal"}:{},formProps:{initialInputMint:"So11111111111111111111111111111111111111112",initialOutputMint:"tbd",fixedInputMint:!0,fixedOutputMint:!0},containerClassName:"max-h-[90vh] lg:max-h-[600px] w-full lg:w-[600px] overflow-hidden",containerStyles:{zIndex:999999}}):(console.error("Jupiter Terminal is not loaded"),l.o.error("Error loading Jupiter Terminal"))},m=e=>{try{let t=new s.J3(e);if(!s.J3.isOnCurve(t.toBytes()))return!1;return!0}catch(e){return!1}},p=["0.1","0.5","1","5","10","100"],f=["Indian","Nigerian","Chinese"],g={Indian:["CRIElKBddWiknSUmfeak","05QRrdNgiglhuYOaTQvw","LKs6V6ilINRR5OoPi0bP","LSEq6jBkWbldjNhcDwT1","UxeNKVidAPGOtgg3CLBB"],Nigerian:["KfOKur2SDMsqQVcT1wKb","neMPCpWtBwWZhxEC8qpe","NVp9wQor3NDIWcxYoZiW","ddDFRErfhdc2asyySOG5"],Chinese:["mbL34QDB5FptPamlgvX5"]},x=[{val:"floor_rolling_laugh",icon:"/assets/laughing-emoji-icon.svg",color:"#F8D75A",audio:"/assets/laugh-reaction.mp3"},{val:"fire",icon:"/assets/fire-emoji-icon.svg",color:"#4EAB5E",audio:"/assets/fire-reaction.mp3"},{val:"crying_face",icon:"/assets/crying-emoji-icon.svg",color:"#A7AAF2",audio:"/assets/cry-reaction.mp3"},{val:"angry_sad_unhappy",icon:"/assets/angry-emoji-icon.svg",color:"#F27360",audio:"/assets/angry-reaction.mp3"},{val:"poop",icon:"/assets/poop-emoji-icon.svg",color:"#EFB03D",audio:"/assets/poop-reaction.mp3"},{val:"clown",icon:"/assets/clown-emoji-icon.svg",color:"#F2A7B0",audio:"/assets/clown-reaction.mp3"}],h=()=>{if(.6>Math.random())return"Indian";{let e=f.filter(e=>"Indian"!==e),t=Math.floor(Math.random()*e.length);return e[t]}},b=e=>{let t=g[e];if(Array.isArray(t)){let e=Math.floor(Math.random()*t.length);return t[e]}return t},v=e=>{switch(e){case"Indian":default:return"/assets/india-flag-icon.svg";case"Nigerian":return"/assets/nigeria-flag-icon.svg";case"Chinese":return"/assets/china-flag-icon.svg"}},w=e=>/\.(mp4|webm|mov|qt|avi)$/i.test(e),N=e=>!!e&&e.type.startsWith("video/"),y=6,j=200,k=60,C=e=>e.trim().split(/\s+/).filter(e=>e.length>0).length},3168:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155),n=r(2115);let a=e=>{let{text:t,setIsExpanded:r,lines:a=4}=e,[o,l]=(0,n.useState)(!1),i=(0,n.useRef)(null),c=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=i.current,t=c.current;if(e&&t){let e=parseInt(window.getComputedStyle(t).lineHeight);l(t.scrollHeight>e*a)}},[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("div",{ref:c,className:"text-black text-[12px] sm:text-[14px] break-all absolute opacity-0 pointer-events-none",style:{width:"100%"},children:t}),(0,s.jsxs)("div",{ref:i,className:"text-[12px] sm:text-[14px] break-all line-clamp-4 text-black",children:[t,o&&(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),r(!0)},className:"absolute bottom-0 font-bold cursor-pointer right-0 bg-white pl-1 text-[12px] sm:text-[14px] text-[#5D3014] hover:underline",children:"...view more"})]})]})})}},6618:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,UserProvider:()=>d});var s=r(5155),n=r(2115),a=r(1392),o=r(8426),l=r(6671);let i=(0,n.createContext)({userData:null,isLoading:!1}),c=()=>(0,n.useContext)(i),d=e=>{let{children:t}=e,{publicKey:r,connected:c}=(0,a.v)(),[d,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(!1),{websocket:f,sendMessage:g,onMessage:x}=(0,o.h)();(0,n.useEffect)(()=>{c&&r&&f?h(r.toString()):u(null)},[f,c,r]);let h=(0,n.useCallback)(async e=>{if(f&&f.readyState===WebSocket.OPEN){p(!0);try{let t=await fetch("https://7dfinzalu3.execute-api.ap-south-1.amazonaws.com/dev/?method=get_beg_user&walletAddress=".concat(e)),r=await t.json();"User retrieved successfully"===r.message?u(r.data):"User not found"===r.message?f?g({action:"createBegUser",walletAddress:e}):console.log("WebSocket connection not available for registration"):console.log(r.message||"Failed to check user existence")}catch(e){console.error("Error checking user:",e),l.o.error("Error checking user"),console.log("Failed to check user existence")}finally{p(!1)}}},[f]);return(0,n.useEffect)(()=>{let e=x(e=>{try{let t=JSON.parse(e.data);("userCreated"===t.type||"userCreatedConfirmation"===t.type)&&u(t.user)}catch(e){l.o.error("Error parsing message"),console.error("Error parsing message:",e)}});return()=>{e()}},[x]),(0,s.jsx)(i.Provider,{value:{userData:d,isLoading:m},children:t})}},7790:()=>{},8426:(e,t,r)=>{"use strict";r.d(t,{WebSocketProvider:()=>l,h:()=>i});var s=r(5155),n=r(2115),a=r(6671);let o=(0,n.createContext)(null);function l(e){let{children:t}=e,r=(0,n.useRef)(null),l=(0,n.useRef)(null),i=(0,n.useRef)(0),[c,d]=n.useState(!1),u=(0,n.useRef)([]),m=(0,n.useCallback)(()=>{var e;(null===(e=r.current)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN&&(r.current&&r.current.close(),r.current=new WebSocket("wss://q1qqf9y8gb.execute-api.ap-south-1.amazonaws.com/dev/"),r.current.onopen=()=>{console.log("WebSocket connection established"),i.current=0,d(!0),l.current=setInterval(()=>{var e;(null===(e=r.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&r.current.send(JSON.stringify({type:"ping"}))},3e4)},r.current.onmessage=e=>{u.current.forEach(t=>t(e));try{let t=JSON.parse(e.data);switch(t.type){case"begMessage":case"begMessageConfirmation":window.dispatchEvent(new CustomEvent("begMessage",{detail:t}));break;case"begMessageUpdate":case"begMessageUpdateConfirmation":window.dispatchEvent(new CustomEvent("begMessageUpdate",{detail:t}));break;case"begMessageDeleted":case"begMessageDeletedConfirmation":window.dispatchEvent(new CustomEvent("begMessageDeleted",{detail:t}));break;case"begMessageReaction":case"begMessageReactionConfirmation":window.dispatchEvent(new CustomEvent("begMessageReaction",{detail:t}));break;case"begComment":case"begCommentConfirmation":window.dispatchEvent(new CustomEvent("begComment",{detail:t}));break;case"begCommentDeleted":case"begCommentDeletedConfirmation":window.dispatchEvent(new CustomEvent("begCommentDeleted",{detail:t}))}}catch(e){console.error("Error parsing message:",e),a.o.error("Error parsing message")}},r.current.onclose=()=>{console.log("WebSocket connection closed"),d(!1),l.current&&(clearInterval(l.current),l.current=null),setTimeout(()=>{console.log("Reconnecting WebSocket..."),m()},Math.min(1e3*Math.pow(2,i.current++),3e4))},r.current.onerror=e=>{console.error("WebSocket error:",e),d(!1)})},[]);(0,n.useEffect)(()=>(m(),()=>{l.current&&clearInterval(l.current),r.current&&r.current.close()}),[m]);let p=(0,n.useCallback)(e=>{var t;(null===(t=r.current)||void 0===t?void 0:t.readyState)===WebSocket.OPEN?r.current.send(JSON.stringify(e)):a.o.error("Connection error. Please try again.")},[]),f=(0,n.useCallback)(e=>(u.current.push(e),()=>{u.current=u.current.filter(t=>t!==e)}),[]);return(0,s.jsx)(o.Provider,{value:{sendMessage:p,isConnected:c,websocket:r.current,onMessage:f},children:t})}function i(){let e=(0,n.useContext)(o);if(!e)throw Error("useWebSocket must be used within a WebSocketProvider");return e}}}]);